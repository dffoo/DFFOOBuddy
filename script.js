var bannerFile,selectedBannerValues;function selectBanner(e){var n=`img/banner/${e}.jpg`;document.getElementById("img-banner").src=n,document.getElementById("img-banner").classList.remove("animation"),document.getElementById("img-banner").offsetWidth,document.getElementById("img-banner").classList.add("animation"),document.getElementById("select-banner").blur(),selectedBannerValues=getBannerValues(e),console.log(selectedBannerValues)}function getBannerValues(e){var n;for(n=0;n<bannerFile.length;n++)if(bannerFile[n].includes(e))return bannerFile[n].split(",")}function toggleRates(){$("#container-rates").toggle(500)}function toggleWeaponLabels(){$(".label-pull-multi").toggle(250),$(".label-pull").toggle(250)}$(function(){var e=new XMLHttpRequest;e.open("GET","banner.csv",!0),e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status){e.responseText;bannerFile=e.responseText.split("\n")}console.log(e.status),selectedBannerValues=getBannerValues("341"),console.log(selectedBannerValues)}},e.send()});var counter={countSingle:0,countSingleBronze:0,countSingleSilver:0,countSingle15:0,countSingle35:0,countSingleEx:0,countSingleLd:0,countSingleBurst:0,countMulti:0,countMultiBronze:0,countMultiSilver:0,countMulti15:0,countMulti35:0,countMultiEx:0,countMultiLd:0,countMultiBurst:0,countBonus15:0,countBonus35:0,countBonusEx:0,countBonusLd:0,countBonusBurst:0};function addToCounter(e){window.counter[e]++}function updateCounters(e){document.getElementById("counter-single").innerHTML="Single Draw: "+e.countSingle,document.getElementById("counter-tickets").innerHTML=e.countSingle+" Draw Tickets consumed",document.getElementById("counter-single-bronze").innerHTML=e.countSingleBronze,document.getElementById("counter-single-silver").innerHTML=e.countSingleSilver,document.getElementById("counter-single-15cp").innerHTML=e.countSingle15,document.getElementById("counter-single-35cp").innerHTML=e.countSingle35,document.getElementById("counter-single-ex").innerHTML=e.countSingleEx,document.getElementById("counter-single-ld").innerHTML=e.countSingleLd,document.getElementById("counter-single-burst").innerHTML=e.countSingleBurst,document.getElementById("counter-multi").innerHTML="Multi Draw: "+e.countMulti,document.getElementById("counter-gems").innerHTML=5e3*e.countMulti+" Gems consumed",document.getElementById("counter-multi-bronze").innerHTML=e.countMultiBronze,document.getElementById("counter-multi-silver").innerHTML=e.countMultiSilver,document.getElementById("counter-multi-15cp").innerHTML=e.countMulti15+" ("+e.countBonus15+")",document.getElementById("counter-multi-35cp").innerHTML=e.countMulti35+" ("+e.countBonus35+")",document.getElementById("counter-multi-ex").innerHTML=e.countMultiEx+" ("+e.countBonusEx+")",document.getElementById("counter-multi-ld").innerHTML=e.countMultiLd+" ("+e.countBonusLd+")",document.getElementById("counter-multi-burst").innerHTML=e.countMultiBurst+" ("+e.countBonusBurst+")"}function resetStats(){updateCounters(counter={countSingle:0,countSingleBronze:0,countSingleSilver:0,countSingle15:0,countSingle35:0,countSingleEx:0,countSingleLd:0,countSingleBurst:0,countMulti:0,countMultiBronze:0,countMultiSilver:0,countMulti15:0,countMulti35:0,countMultiEx:0,countMultiLd:0,countMultiBurst:0,countBonus15:0,countBonus35:0,countBonusEx:0,countBonusLd:0,countBonusBurst:0})}function toggleSingleStats(){$("#single-pull-stats").toggle(500)}function toggleMultiStats(){$("#multi-pull-stats").toggle(500)}function pullSingle(){$(".label-pull").css("opacity",0);var e=document.getElementById("select-banner").value;1==getComputedStyle(document.getElementById("div-pull-single"),null).opacity&&$("#div-pull-single").animate({opacity:0},250),1==getComputedStyle(document.getElementById("div-pull-multi"),null).opacity&&$("#div-pull-multi").animate({opacity:0},250,function(){document.getElementById("div-pull-multi").style.display="none",document.getElementById("div-pull-single").style.display="flex"}),"flex"!=document.getElementById("div-pull-single").style.display&&setTimeout(()=>{document.getElementById("div-pull-single").style.display="flex"},100),setTimeout(()=>{drawSingle(e)},250)}function drawSingle(e){$(".btn-gacha").prop("disabled",!0),$(".pull-img").css("opacity",0);var n=Math.floor(1e4*Math.random())+1,t=getWeaponType(n);"bronze"==t?(document.getElementById("pull-single").src="img/eq/bronze.png",addToCounter("countSingleBronze"),document.getElementById("label-pull-single").innerHTML=""):"silver"==t?(document.getElementById("pull-single").src="img/eq/silver.png",addToCounter("countSingleSilver"),document.getElementById("label-pull-single").innerHTML=""):t=generateGoldWeapon(n,"pull-single","label-pull-single","countSingle");$("#div-pull-single").animate({opacity:1}),$("#pull-single").delay(150).animate({opacity:1},500,function(){$(".btn-gacha").prop("disabled",!1),$(".label-pull").animate({opacity:1},250)}),addToCounter("countSingle"),updateCounters(counter)}function pullMulti(){$(".label-pull-multi").css("opacity",0),document.getElementById("div-pull-multi").style.display="flex";var e=document.getElementById("select-banner").value;1==getComputedStyle(document.getElementById("div-pull-multi"),null).opacity&&$("#div-pull-multi").animate({opacity:0},250),1==getComputedStyle(document.getElementById("div-pull-single"),null).opacity&&$("#div-pull-single").animate({opacity:0},250,function(){document.getElementById("div-pull-single").style.display="none"}),setTimeout(()=>{drawMulti(e)},250)}function drawMulti(e){$(".btn-gacha").prop("disabled",!0),$(".pull-img").css("opacity",0),generateMultiPull(),$("#div-pull-multi").animate({opacity:1});var n=0;$(".pull-img").each(function(e){$(this).delay(n).animate({opacity:1},500,function(){10==e&&($(".btn-gacha").prop("disabled",!1),$(".label-pull-multi").animate({opacity:1},250))}),n+=250}),addToCounter("countMulti"),updateCounters(counter)}function generateMultiPull(){const e={bronze:0,silver:1,gold:2,burst:3};var n,t=[];for(n=0;n<10;n++){var l=Math.floor(1e4*Math.random())+1;t.push(getWeaponType(l))}const u=t.sort((n,t)=>e[n]-e[t]);for(n=0;n<10;n++)if("bronze"==u[n])document.getElementById("pull"+n).src="img/eq/bronze.png",document.getElementById("label-pull-multi"+n).innerHTML="",addToCounter("countMultiBronze");else if("silver"==u[n])document.getElementById("pull"+n).src="img/eq/silver.png",document.getElementById("label-pull-multi"+n).innerHTML="",addToCounter("countMultiSilver");else if("gold"==u[n]){generateGoldWeapon(l=Math.floor(1001*Math.random()+8990),"pull"+n,"label-pull-multi"+n,"countMulti")}else generateGoldWeapon(1e4,"pull"+n,"label-pull-multi"+n,"countMulti");var o=Math.floor(1e4*Math.random())+1;o<1317?(generateGoldWeapon(8990,"pull10","label-pull-multi10","countMulti"),addToCounter("countBonus15")):o<2634?(generateGoldWeapon(9132,"pull10","label-pull-multi10","countMulti"),addToCounter("countBonus15")):o<3951?(generateGoldWeapon(9274,"pull10","label-pull-multi10","countMulti"),addToCounter("countBonus15")):o<4951?(generateGoldWeapon(9416,"pull10","label-pull-multi10","countMulti"),addToCounter("countBonus35")):o<5951?(generateGoldWeapon(9516,"pull10","label-pull-multi10","countMulti"),addToCounter("countBonus35")):o<6951?(generateGoldWeapon(9616,"pull10","label-pull-multi10","countMulti"),addToCounter("countBonus35")):o<7701?(generateGoldWeapon(9716,"pull10","label-pull-multi10","countMulti"),addToCounter("countBonusEx")):o<8451?(generateGoldWeapon(9791,"pull10","label-pull-multi10","countMulti"),addToCounter("countBonusEx")):o<9201?(generateGoldWeapon(9866,"pull10","label-pull-multi10","countMulti"),addToCounter("countBonusEx")):o<9701?(generateGoldWeapon(9941,"pull10","label-pull-multi10","countMulti"),addToCounter("countBonusLd")):(generateGoldWeapon(1e4,"pull10","label-pull-multi10","countMulti"),addToCounter("countBonusBurst"))}function getWeaponType(e){return e<5990?"bronze":e<8990?"silver":e<9991?"gold":"burst"}function getGoldWeapon(e){return e<9132?"15a":e<9274?"15b":e<9416?"15c":e<9516?"35a":e<9616?"35b":e<9716?"35c":e<9791?"exa":e<9866?"exb":e<9941?"exc":e<9991?"ld":"burst"}function generateGoldWeapon(e,n,t,l){e<9132?(document.getElementById(n).src="img/eq/"+selectedBannerValues[1]+"/15.png",document.getElementById(t).innerHTML=selectedBannerValues[1]+" 15CP",addToCounter(l+"15")):e<9274?(document.getElementById(n).src="img/eq/"+selectedBannerValues[2]+"/15.png",document.getElementById(t).innerHTML=selectedBannerValues[2]+" 15CP",addToCounter(l+"15")):e<9416?(document.getElementById(n).src="img/eq/"+selectedBannerValues[3]+"/15.png",document.getElementById(t).innerHTML=selectedBannerValues[3]+" 15CP",addToCounter(l+"15")):e<9516?(document.getElementById(n).src="img/eq/"+selectedBannerValues[1]+"/35.png",document.getElementById(t).innerHTML=selectedBannerValues[1]+" 35CP",addToCounter(l+"35")):e<9616?(document.getElementById(n).src="img/eq/"+selectedBannerValues[2]+"/35.png",document.getElementById(t).innerHTML=selectedBannerValues[2]+" 35CP",addToCounter(l+"35")):e<9716?(document.getElementById(n).src="img/eq/"+selectedBannerValues[3]+"/35.png",document.getElementById(t).innerHTML=selectedBannerValues[3]+" 35CP",addToCounter(l+"35")):e<9791?(document.getElementById(n).src="img/eq/"+selectedBannerValues[1]+"/ex.png",document.getElementById(t).innerHTML=selectedBannerValues[1]+" EX",addToCounter(l+"Ex")):e<9866?(document.getElementById(n).src="img/eq/"+selectedBannerValues[2]+"/ex.png",document.getElementById(t).innerHTML=selectedBannerValues[2]+" EX",addToCounter(l+"Ex")):e<9941?(document.getElementById(n).src="img/eq/"+selectedBannerValues[3]+"/ex.png",document.getElementById(t).innerHTML=selectedBannerValues[3]+" EX",addToCounter(l+"Ex")):e<9991?(document.getElementById(n).src="img/eq/"+selectedBannerValues[4]+"/ld.png",document.getElementById(t).innerHTML=selectedBannerValues[4]+" LD",addToCounter(l+"Ld")):(document.getElementById(n).src="img/eq/"+selectedBannerValues[5]+"/burst.png",document.getElementById(t).innerHTML=selectedBannerValues[5]+" Burst",addToCounter(l+"Burst"))}function getBonusWeaponType(e){return e<98?"gold":"burst"}